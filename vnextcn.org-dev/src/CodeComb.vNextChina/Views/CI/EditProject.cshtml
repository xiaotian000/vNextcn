@model CISet
@{ 
    ViewBag.Title = "编辑项目";
}

<div class="container">
    <div class="cont-wrap">
        <form asp-action="EidtProject" asp-controller="CI" asp-route-id="@Model.Id" asp-route-pid="@ViewBag.Project.Id" method="post" class="grid_9">
            <h2 class="exp-title">@ViewBag.Title</h2>
            <h3 class="exp-sub-title">基本信息</h3>
            <div class="cont-outer">
                <table class="detail-table">
                    <tr>
                        <td class="row-title">项目名称</td>
                        <td>
                            <input type="text" class="w-3 textbox" name="Alias" value="@ViewBag.Project.Alias" />
                        </td>
                    </tr>
                    <tr>
                        <td class="row-title">构建顺序</td>
                        <td>
                            <input type="text" class="w-3 textbox" name="PRI" value="@ViewBag.Project.PRI" />
                        </td>
                    </tr>
                    <tr>
                        <td class="row-title">构建平台</td>
                        <td>
                            <input type="checkbox" value="true" name="RunWithWindows" @(ViewBag.Project.RunWithWindows ? "checked" : "") /> <i class="fa fa-windows"></i> Windows
                            <br />
                            <input type="checkbox" value="true" name="RunWithLinux" @(ViewBag.Project.RunWithLinux ? "checked" : "") /> <i class="fa fa-linux"></i> Linux
                            <br />
                            <input type="checkbox" value="true" name="RunWithOsx" @(ViewBag.Project.RunWithOsx ? "checked" : "") /> <i class="fa fa-apple"></i> Mac OS X
                        </td>
                    </tr>
                    <tr>
                        <td class="row-title">版本规则</td>
                        <td>
                            <input type="text" class="w-3 textbox" name="VersionRule" value="@ViewBag.Project.VersionRule" />
                        </td>
                    </tr>
                    <tr>
                        <td class="row-title">当前版本</td>
                        <td>
                            <input type="text" class="w-3 textbox" name="CurrentVersion" value="@ViewBag.Project.CurrentVersion" />
                        </td>
                    </tr>
                    <tr>
                        <td class="row-title">还原方式</td>
                        <td>
                            <select name="RestoreMethod">
                                @foreach (var x in Enum.GetNames(typeof(ProjectRestoreMethod)))
                                {
                                    <!option @(ViewBag.Project.RestoreMethod.ToString() == x ? "selected" : "")>@x</!option>
                                }
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td class="row-title">URL</td>
                        <td>
                            <input type="text" class="w-3 textbox" name="Url" value="@ViewBag.Project.Url" />
                        </td>
                    </tr>
                    <tr>
                        <td class="row-title">分支</td>
                        <td>
                            <input type="text" class="w-3 textbox" name="Branch" value="@ViewBag.Project.Branch" /> 不填则为默认分支
                        </td>
                    </tr>
                    <tr>
                        <td class="row-title">额外的环境变量（json形式）</td>
                        <td>
                            <textarea class="textbox" style="width: calc(100% - 10px);height:240px;" name="AdditionalEnvironmentVariables">@ViewBag.Project.AdditionalEnvironmentVariables</textarea>
                        </td>
                    </tr>
                </table>
            </div>
            <h3 class="exp-sub-title">发布设置</h3>
            <div class="cont-outer">
                <p>目前不可用</p>
                <table class="detail-table">
                    <tr>
                        <td class="row-title">发布方式</td>
                        <td>
                            <select name="PublishMethod">
                                @foreach (var x in Enum.GetNames(typeof(ProjectPublishMethod)))
                                {
                                    <!option @(ViewBag.Project.PublishMethod.ToString() == x ? "selected" : "")>@x</!option>
                                }
                            </select>
                        </td>
                    </tr>
                    <tr>
                        <td class="row-title">NuGet Host</td>
                        <td><input type="text" class="w-3 textbox" name="NuGetHost" value="@ViewBag.Project.NuGetHost" /></td>
                    </tr>
                    <tr>
                        <td class="row-title">NuGet Private Key</td>
                        <td><input type="text" class="w-3 textbox" name="NuGetPrivateKey" value="@ViewBag.Project.NuGetPrivateKey" /></td>
                    </tr>
                </table>
            </div>
            <p>
                <input type="submit" class="btn btn-default" value="保存" />
            </p>
        </form>
        @Html.Partial("Sidebar")
    </div>
</div>